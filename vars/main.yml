---
# vars file for httpd
httpd_requirements:
  - pyopenssl

httpd_sebooleans:
  - httpd_can_network_connect

_httpd_packages:
  default:
    - httpd
    - mod_ssl
    - openssl
  Alpine:
    - apache2
    - apache2-ssl
    - apache2-proxy
  Archlinux:
    - apache
  Debian:
    - apache2
  openSUSE Leap:
    - httpd
  Ubuntu:
    - apache2

httpd_packages: "{{ _httpd_packages[ansible_distribution] | default(_httpd_packages['default']) }}"

_httpd_service:
  default: httpd
  Alpine: apache2
  Debian: apache2
  openSUSE Leap: apache2
  Ubuntu: apache2

httpd_service: "{{ _httpd_service[ansible_distribution] | default(_httpd_service['default']) }}"

_httpd_server_root:
  default: /etc/httpd
  Alpine: /etc/apache2
  Archlinux: /etc/httpd
  Debian: /etc/apache2
  openSUSE Leap: /etc/apache2
  Ubuntu: /etc/apache2

httpd_server_root: "{{ _httpd_server_root[ansible_distribution] | default(_httpd_server_root['default']) }}"

_httpd_config_directory:
  default: "{{ httpd_server_root }}/conf.d"
  Alpine: "{{ httpd_server_root }}/conf.d"
  Archlinux: "{{ httpd_server_root }}/conf/extra"
  Debian: "{{ httpd_server_root }}/conf-enabled"
  openSUSE Leap: "{{ httpd_server_root }}/conf.d"
  Ubuntu: "{{ httpd_server_root }}/conf-enabled"

httpd_config_directory: "{{ _httpd_config_directory[ansible_distribution] | default(_httpd_config_directory['default']) }}"

_httpd_config_src:
  Alpine: httpd.conf.j2
  Archlinux: httpd.conf.j2
  Debian: ports.conf.j2
  RedHat: httpd.conf.j2
  Suse: httpd.conf.j2

httpd_config_src: "{{ _httpd_config_src[ansible_os_family] }}"

_httpd_config_dest:
  Alpine: "{{ httpd_server_root }}/httpd.conf"
  Archlinux: "{{ httpd_server_root }}/conf/httpd.conf"
  Debian: "{{ httpd_server_root }}/ports.conf"
  RedHat: "{{ httpd_server_root }}/conf/httpd.conf"
  Suse: "{{ httpd_server_root }}/httpd.conf"

httpd_config_dest: "{{ _httpd_config_dest[ansible_os_family] }}"

_httpd_data_directory:
  default: /var/www/html
  Alpine: /var/www/{{ httpd_servername | default(ansible_fqdn) }}
  Archlinux: /src/http
  openSUSE Leap: /src/www/htdocs

httpd_data_directory: "{{ _httpd_data_directory[ansible_distribution] | default(_httpd_data_directory['default']) }}"

_httpd_modules_path:
  default: modules
  Debian: /usr/lib/apache2/modules
  Ubuntu: /usr/lib/apache2/modules
  openSUSE Leap: /usr/lib64/apache2-prefork

httpd_modules_path: "{{ _httpd_modules_path[ansible_distribution] | default(_httpd_modules_path['default']) }}"

_httpd_binary:
  default: httpd
  Debian: apachectl
  Ubuntu: apachectl

httpd_binary: "{{ _httpd_binary[ansible_distribution] | default(_httpd_binary['default']) }}"
